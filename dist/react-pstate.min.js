!function(){"use strict";var t={setPId:function(t){this._pid=t},setPStorage:function(t){this._pstorage=t},setPState:function(t,e){var o=this;this.setState(t,function(){if(!o._pstorage||"function"!=typeof o._pstorage.set)throw new Error("Set storage befor using setPState");o._pstorage.set(o._pid||o._rootNodeID,t),"function"==typeof e&&e.apply(arguments,this)})},removePState:function(){return this._pstorage.remove(this._pid||this._rootNodeID)},restorePState:function(t){var e=this._pid||this._rootNodeID,o=this;return this._pstorage.get(e).then(function(e){return o.setState(e,t),e})},localStorage:{set:function(t,e){return localStorage.setItem(t,JSON.stringify(e)),Promise.resolve()},get:function(t){return Promise.resolve(JSON.parse(localStorage.getItem(t)||"{}"))},remove:function(t){return localStorage.removeItem(t),Promise.resolve()}}};"undefined"!=typeof module&&module.exports&&(module.exports.ReactPersistentState=t),"undefined"!=typeof window&&(window.ReactPersistentState=t)}();